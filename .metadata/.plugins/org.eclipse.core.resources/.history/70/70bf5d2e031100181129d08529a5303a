#include <msp430.h>
#define STOP_WATCHDOG 0x5A80 // Stop the watchdog timer
#define ACLK 0x0100 // Timer ACLK source
#define UP 0x0010 // Timer UP mode
#define ENABLE_PINS 0xFFFE // Required to use inputs and outputs

#define CYCLE_ONE 5000
#define CYCLE_TWO 45000

main ()
{
  WDTCTL = STOP_WATCHDOG;  // Stop the watchdog timer

  PM5CTL0 = ENABLE_PINS;  // Required to use inputs and outputs
  P1DIR = BIT0;  // Set red LED as an output
  P1OUT = 0x00;  // Start with red LED off

  TA0CTL = ACLK | UP;  // Set ACLK, UP MODE

  TA0CCR0 = CYCLE_ONE;  // Sets value of Timer0
  TA0CCTL0 = CCIE;  // Enable interrupt for Timer0

  TA0CCR1 = CYCLE_TWO;
  TA0CCTL1 = CCIE;

  _BIS_SR(GIE);  // Activate interrupts previously enabled
  while (1)
    ;  // Wait here for interrupt
}

#pragma vector=TIMER0_A1_VECTOR
__interrupt void Timer0_CCR1_MATCH(void)
{
  if (TA0IV == 2)
    {
      P1OUT = BIT0;
    }
}


//************************************************************************
// Timer0 Interrupt Service Routine
//************************************************************************
#pragma vector=TIMER0_A0_VECTOR
__interrupt void Timer0_CCR0_MATCH (void)
{
  P1OUT = 0x00;
}

